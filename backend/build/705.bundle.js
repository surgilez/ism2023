"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[705],{31286:(e,t,n)=>{n.d(t,{f:()=>q});var s=n(70885),a=n(96974),r=n(94649),i=n(40662),l=n(19501),c=l.Ry({checkin:l.hT().required("Campo necesario"),checkout:l.hT().required("Campo necesario"),destination:l.Ry().nullable().required("El destino es necesario"),guests:l.IX(l.Ry({adults:l.Rx().typeError("Solo se permiten números").min(1,"El valor mínimo es 1").max(6,"El valor máximo es 4").required("El campo es necesario"),children:l.IX(l.Rx().typeError("Solo se permiten números").min(0,"La edad mínima es 0").max(17,"La  máximo es 17").required("Edad necesaria"))}))}),o=n(12164),d=n(67294),u=n(23594),m=n(39642),x=n(44460),p=n(15861),f=n(87757),h=n.n(f),v=n(75820),j=n(16923),g=n(44798),b=function(e,t){return function(){var n=(0,p.Z)(h().mark((function n(s){var a,r,i,l,c,o,d;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={username:(null==t||null===(a=t.api)||void 0===a?void 0:a.credentials.username)||"",password:(null==t||null===(r=t.api)||void 0===r?void 0:r.credentials.password)||""},n.next=3,(0,j.JE)((0,v.W9)({url:"/api-query",method:"post",data:e,headers:{"x-path":"".concat(null==t||null===(i=t.api)||void 0===i?void 0:i.endPoint,"/search/multicomplete/"),"x-auth":JSON.stringify(l)}}),"multicompleteSearch");case 3:c=n.sent,o=c.status,d=c.data,200===o&&s((u=d,{type:g.FG,payload:u}));case 7:case"end":return n.stop()}var u}),n)})));return function(e){return n.apply(this,arguments)}}()},y=n(45098),N=n(57476),w=n(4942),k=n(18197),O=n(72635),C=n.n(O),S=n(87115),P=n(85893);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.setValues,n=e.errors,a=e.apiRateHawk,r=e.values,i=e.isClientModule,l=void 0===i||i,c=e.clientActive,o=(0,u.I0)(),m=(0,j.WH)({area:"multicompleteSearch"}).promiseInProgress,x=(0,u.v9)((function(e){return e.api.ratehawk.multicomplete})).data,p=(0,d.useState)({language:"es",query:""}),f=(0,s.Z)(p,2),h=f[0],v=f[1],g=(0,S.N)().handleSetTimeOut;(0,d.useEffect)((function(){var e=r.destination;null!=e&&e.name&&v((function(t){return E(E({},t),{},{query:e.name})}))}),[r]);var y=(0,d.useRef)(null),N=(0,d.useRef)(null),w=(0,d.useState)(!1),O=(0,s.Z)(w,2),_=O[0],Z=O[1];(0,d.useEffect)((function(){var e=y.current,t=N.current,n=function(n){var s=n.target;e&&!e.contains(s)&&t!==s&&Z(!1),t===s&&Z(!0)};return document.addEventListener("click",n),function(){return document.removeEventListener("click",n)}}),[y,N,Z]);var D=function(e,n){a&&e&&(t((function(t){return E(E({},t),{},{destination:e,type:n})})),v((function(t){return E(E({},t),{},{query:e.name})})),o(b(E(E({},h),{},{query:e.name}),a)))};return(0,P.jsxs)("div",{className:"w-full relative",children:[(0,P.jsx)("span",{className:"",children:"Destino"}),(0,P.jsx)("div",{className:"w-full",children:(0,P.jsx)("input",{type:"text",className:"input input-sm 2xl:input-md bordered input-primary w-full bg-[#ECECCC]",placeholder:"Ciudad, Hotel o Aeropuerto",value:h.query,onChange:function(e){var t=e.target.value;v((function(e){return E(E({},e),{},{query:t})}))},onKeyUp:function(){return g((function(){a&&o(b(h,a))}),800)},ref:N,onKeyPress:function(e){Z(!0),13===e.which&&e.preventDefault()},onFocus:function(){Z(!0)},autoComplete:"off",disabled:!c&&!l})}),n.destination&&(0,P.jsx)("span",{className:"text-xs md:text-sm text-red-600",children:n.destination}),(0,P.jsx)("div",{className:"absolute z-50 top-16 w-full",style:{display:"".concat(_?"block":"none")},children:(0,P.jsx)("div",{ref:y,className:"bg-[#ECECCC] border w-full mt-1 rounded-lg",children:m?(0,P.jsx)("div",{className:"h-[150px] grid place-content-center",children:(0,P.jsx)(k.s_,{})}):(0,P.jsxs)(P.Fragment,{children:[x&&x.regions.length>0&&(0,P.jsxs)("div",{className:"mt-3",children:[(0,P.jsx)("span",{className:"text-sm px-4",children:"Regiones"}),(0,P.jsx)("ul",{className:"menu menu-compact",children:x.regions.map((function(e,t){return(0,P.jsx)("li",{onClick:function(){return D(e,"region")},children:(0,P.jsxs)("div",{children:["Airport"===e.type?(0,P.jsx)("i",{className:"fa-solid fa-plane-departure text-gray-500"}):(0,P.jsx)("i",{className:"fa-solid fa-earth-americas text-gray-500"}),(0,P.jsxs)("span",{className:"text-sm",children:[e.name,","," ",e.country_code&&(n=e.country_code,s=C()().getData().find((function(e){return e.value===n})),(null==s?void 0:s.label)||"")]})]})},t);var n,s}))})]}),x&&x.hotels&&x.hotels.length>0&&(0,P.jsxs)("div",{className:"mt-2",children:[(0,P.jsx)("span",{className:"text-sm px-4",children:"Hoteles"}),(0,P.jsx)("ul",{className:"menu menu-compact",children:x.hotels.map((function(e,t){return(0,P.jsx)("li",{className:"flex gap-2",onClick:function(){return D(e,"hotel")},children:(0,P.jsxs)("div",{children:[(0,P.jsx)("i",{className:"fa-solid fa-hotel text-gray-500"}),(0,P.jsx)("span",{children:e.name})]})},t)}))})]}),!x&&(0,P.jsx)("span",{className:"block text-center text-sm p-5",children:"Sin resultados"})]})})})]})};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t=e.values,n=e.setFocused,s=e.setValues,a=e.errors;return(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{className:"text-xl mt-2 mb-8 text-center",children:"Configurar habitaciones"}),(0,P.jsx)(r.F2,{name:"guests",render:function(e){return(0,P.jsxs)(P.Fragment,{children:[t.guests&&t.guests.length>0&&t.guests.map((function(n,s){var a=n.children;return(0,P.jsxs)("div",{className:"my-10",children:[(0,P.jsx)("hr",{className:"my-3 ".concat(s>0?"block":"hidden")}),(0,P.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,P.jsx)("div",{className:"w-full ".concat(t.guests.length>1?"block":"hidden"),children:(0,P.jsxs)("span",{children:[" Habitación ",s+1]})}),(0,P.jsx)("div",{className:"flex justify-between",children:(0,P.jsx)("span",{className:"text-sm cursor-pointer ".concat(t.guests.length>1?"block":"hidden"),onClick:function(){return t.guests.length>1&&e.remove(s)},children:"Eliminar"})})]}),(0,P.jsxs)("div",{className:"flex gap-4",children:[(0,P.jsxs)("div",{className:"!w-[120px] mr-4",children:[(0,P.jsx)("span",{className:"text-sm",children:"Adultos"}),(0,P.jsx)(i.M5,{name:"guests[".concat(s,"].adults"),type:"number",min:1,max:6,className:"input input-sm bg-transparent"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{className:"text-sm",children:"Niños"}),(0,P.jsx)(r.F2,{name:"guests[".concat(s,"].children"),render:function(e){return(0,P.jsxs)("div",{className:"flex gap-2 flex-wrap ",children:[a&&a.map((function(t,n){return(0,P.jsxs)("div",{className:"w-[190px] 2xl:w-[300px] flex items-center justify-between gap-2",children:[(0,P.jsxs)(i.M5,{name:"guests[".concat(s,"].children[").concat(n,"]"),as:"select",className:"select select-sm",children:[(0,P.jsx)("option",{value:"",children:"Selecciona la edad"}),new Array(18).fill({}).map((function(e,t){return(0,P.jsxs)("option",{value:t,children:[t," ",1===t?"año":"años"]},t)}))]}),(0,P.jsx)("button",{title:"Eliminar",type:"button",className:"btn btn-sm btn-primary",onClick:function(){return e.remove(n)},children:(0,P.jsx)("i",{className:"fa-solid fa-minus"})})]},n)})),(0,P.jsx)("button",{title:"Agregar",type:"button",className:"btn btn-primary mt-2 btn-sm ".concat(a.length>=4&&"hidden"),onClick:function(){a.length<4&&e.push("")},children:a.length<=0?(0,P.jsx)("span",{children:"Agregar un niño"}):(0,P.jsx)("i",{className:"fa-solid fa-plus text-sm"})})]})}})]})]})]},s)})),(0,P.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 justify-between mt-5",children:[(0,P.jsx)("button",{title:"Agregar habitación",type:"button",className:"btn w-full md:w-[48%]",onClick:function(){return e.push({adults:1,children:[]})},children:(0,P.jsx)("span",{children:"Nueva habitación"})}),(0,P.jsx)("button",{title:"finalizar configuración",type:"button",className:"btn btn-primary w-full md:w-[48%]",onClick:function(){if(!a.guests){n(!1);var e=t.guests.length,r=0,i=0;t.guests.forEach((function(e){r+=e.adults,i+=e.children.length})),s((function(t){return I(I({},t),{},{info:{rooms:e,people:r+i}})}))}},children:"Terminar"})]})]})}})]})},A=function(e){var t=e.values,n=e.setValues,a=e.errors,r=e.disabled,l=void 0!==r&&r,c=(0,d.useRef)(null),o=t.info,u=o.people,m=o.rooms,x=(0,d.useState)(!1),p=(0,s.Z)(x,2),f=p[0],h=p[1];return(0,P.jsxs)("div",{className:"relative w-full",ref:c,children:[(0,P.jsxs)("div",{className:"flex flex-col ",children:[(0,P.jsx)("span",{children:"Habitaciones"}),(0,P.jsx)("label",{onClick:function(){return h(!l&&!0)},className:"w-full",children:(0,P.jsx)("input",{type:"text",placeholder:"".concat(m," ").concat(m>1?"Habitaciones":"Habitación"," / ").concat(u," ").concat(u>1?"Personas":"Persona"),autoComplete:"off",autoCorrect:"off",onKeyDown:function(e){return e.preventDefault()},className:"input input-sm 2xl:input-md bg-[#ECECCC] placeholder:text-gray-600 w-full"})})]}),(0,P.jsx)(i.u_,{openModal:f,children:(0,P.jsx)(M,{setFocused:h,values:t,setValues:n,errors:a})})]})},H=n(66261),q=function(e){var t=e.isClientModule,n=void 0===t||t,l=e.isPromo,p=void 0!==l&&l,f=(0,u.v9)((function(e){return e})),h=f.api.ratehawk.multicomplete,v=f.seller.client.clientActive,j=(0,y.h)().apiRateHawk,b=(0,u.I0)(),w={destination:null,type:"region",checkin:(0,o.Z)(new Date).format("yyyy-MM-DD"),checkout:(0,o.Z)(new Date).add(1,"day").format("yyyy-MM-DD"),guests:[{adults:2,children:[]}],info:{people:2,rooms:1}},k=(0,d.useState)(w),O=(0,s.Z)(k,2),C=O[0],S=O[1];(0,d.useEffect)((function(){h.request&&S(h.request)}),[h]);var _=(0,a.s0)();return(0,P.jsx)(r.J9,{initialValues:C,enableReinitialize:!0,onSubmit:function(e){var t,s,a=e.checkin,r=e.checkout,i=e.guests,l=e.destination;if(j)if("region"===e.type&&null!=l&&l.id)b((0,m.kZ)({checkin:a,checkout:r,guests:i,language:"es",region_id:l.id},j)),n&&!p?_("/client/services/Hoteles"):H.OK.scrollTo("anchorServiceSeller",{duration:500,delay:100,smooth:!0,offset:-100});else if("hotel"===e.type){var c;b((0,N.u)(e,j)),_("/client/service/hotel/1/".concat(null===(c=e.destination)||void 0===c?void 0:c.id))}b((t=e,{type:g.Ke,payload:{request:t}})),b((0,m.qb)()),b((s=(new Date).getTime().toString(),{type:x.i,payload:{state:s}}));var d,u={checkin:e.checkin,checkout:e.checkout,night:(0,o.Z)(e.checkout).diff((0,o.Z)(e.checkin),"days"),info:e.info};localStorage.setItem("util",JSON.stringify(u)),b((d=u,{type:g.CN,payload:d}))},validationSchema:c,children:function(e){var t=e.values,s=e.setValues,a=e.errors;return(0,P.jsxs)(r.l0,{noValidate:!0,children:[(0,P.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 w-full",children:[(0,P.jsx)("div",{className:"w-full md:w-1/2",children:(0,P.jsx)(Z,{setValues:s,errors:a,apiRateHawk:j,values:t,isClientModule:n,clientActive:v})}),(0,P.jsx)("div",{className:"w-full md:w-1/2",children:(0,P.jsx)(A,{values:t,setValues:s,errors:a,disabled:!v&&!n})})]}),(0,P.jsxs)("div",{className:"flex md:justify-between flex-col md:flex-row gap-3 w-full items-center",children:[(0,P.jsx)("div",{className:"w-full md:w-[70%] mt-4",children:(0,P.jsxs)("div",{className:"w-full flex gap-3",children:[(0,P.jsx)("div",{className:"w-full md:w-1/2",children:(0,P.jsx)(i.M5,{name:"checkin",text:"CheckIn",min:(0,o.Z)(new Date).format("yyyy-MM-DD"),type:"date",className:"input-sm 2xl:input-md bg-[#ECECCC]",disabled:!v&&!n})}),(0,P.jsx)("div",{className:"w-full md:w-1/2",children:(0,P.jsx)(i.M5,{name:"checkout",text:"CheckOut",type:"date",min:(0,o.Z)(new Date).add(1,"day").format("yyyy-MM-DD"),className:"input-sm 2xl:input-md bg-[#ECECCC]",disabled:!v&&!n})})]})}),(0,P.jsx)("button",{type:"submit",className:"btn btn-sm 2xl:btn-md w-full md:w-1/3 md:mt-9",disabled:!v&&!n,children:"Buscar"})]})]})}})}},45098:(e,t,n)=>{n.d(t,{h:()=>i});var s=n(70885),a=n(67294),r=n(23594),i=function(){var e=(0,r.v9)((function(e){return e.api.services})).list,t=(0,a.useState)(null),n=(0,s.Z)(t,2),i=n[0],l=n[1];return(0,a.useEffect)((function(){if(e&&!(e.length<=0)){var t=e.find((function(e){var t;return"Hoteles"===e.name&&"ratehawk"===(null===(t=e.api)||void 0===t?void 0:t.name.toLowerCase().trim())}));l(t)}}),[e]),{apiRateHawk:i}}},9879:(e,t,n)=>{n.d(t,{h:()=>O});var s=n(4942),a=n(70885),r=n(67294),i=n(16923),l=n(40662),c=n(61129),o=n.n(c),d=n(44925),u=n(12164),m=function(e){var t=e;switch(e){case"breakfast":t="desayuno";break;case"lunch":t="almuerzo";break;case"dinner":t="cena";break;case"all-inclusive":t="todo";break;case"unspecified":t="comida no especificada"}return t},x=n(80653),p=n(23594),f=n(85893),h=["api"],v=["api"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.rate,n=(0,p.v9)((function(e){return e})),s=n.api,i=s.ratehawk.hotel.info,l=s.services.list,c=n.client.membership.list,o=n.auth.uid,j=n.user.rol,b=n.seller.client.clientActive,y=t.room_data_trans,N=t.rg_ext,w=t.payment_options.payment_types,k=t.meal,O=(0,p.I0)(),C=(0,r.useState)(null),S=(0,a.Z)(C,2),P=S[0],_=S[1],E=(0,r.useState)(void 0),Z=(0,a.Z)(E,2),D=Z[0],I=Z[1],M=(0,r.useState)({base:0,profit:0,subtotal:0,iva:0,discount:0,total:0}),A=(0,a.Z)(M,2),H=A[0],q=A[1];return(0,r.useEffect)((function(){var e=l.find((function(e){var t;return"Hoteles"===e.name&&"ratehawk"===(null===(t=e.api)||void 0===t?void 0:t.name.toLocaleLowerCase())}));if(e){var t=e.api,n=(0,d.Z)(e,v),s=null==t?void 0:t.name;_(g(g({},n),{},{api:s}))}}),[t,_]),(0,r.useEffect)((function(){if(P){var e={dsto:0,name:"",state:!1,exp:0};null==c||c.forEach((function(t){var n,s=null===(n=t.services)||void 0===n?void 0:n.find((function(e){var t=e.provider,n=e.service;return"ratehawk"===(null==t?void 0:t.toLocaleLowerCase())&&"Hoteles"===n}));if(s){var a=t.name,r=t.state;e={name:a||"",state:r||!1,dsto:s.dsto,exp:t.exp}}}));var n,s,a,r,i,l=Number(t.payment_options.payment_types[0].amount),o=P.profit,d=0;o<=0&&(o=0),e&&e.state&&u.Z.unix(Number(e.exp)).isSameOrAfter((0,u.Z)(new Date))&&(I(e),d=e.dsto),i=(s=l+(n=l*(o/100)))+(a=.12*s)-(r=s*(d/100)),q((function(e){return g(g({},e),{},{base:l,profit:n,subtotal:s,iva:a,discount:r,total:i})}))}}),[P,q,c,I]),(0,f.jsxs)("div",{className:"border rounded-lg p-3 md:w-[400px] flex-auto bg-base-200",children:[(0,f.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 justify-between",children:[(0,f.jsxs)("div",{className:"text-gray-500 min-h-[50px]",children:[(0,f.jsx)("span",{className:"font-bold block text-xl",children:y.main_name}),(0,f.jsx)("span",{className:"text-sm font-semibold",children:y.bedding_type})]}),(0,f.jsxs)("div",{className:"font-bold text-[#4E5B96] text-lg md:text-xl min-w-max",children:[(0,f.jsxs)("span",{children:[w[0].show_currency_code," "]}),(0,f.jsx)("span",{children:H.total.toFixed(2)})]})]}),(0,f.jsxs)("div",{className:"flex gap-2 flex-wrap items-center mt-3",children:[(0,f.jsx)("div",{className:"tooltip","data-tip":"capacidad: ".concat(N.capacity),children:(0,f.jsx)("i",{className:"fa-solid fa-user-group text-sm cursor-pointer text-gray-400"})}),(0,f.jsx)("div",{className:"tooltip","data-tip":"clase: ".concat(N.class),children:(0,f.jsx)("i",{className:"fa-solid fa-star text-sm cursor-pointer text-gray-400"})}),(0,f.jsx)("div",{className:"tooltip","data-tip":"calidad: ".concat(N.quality),children:(0,f.jsx)("i",{className:"fa-solid fa-award text-sm cursor-pointer text-gray-400"})}),(0,f.jsx)("div",{className:"tooltip","data-tip":"cama de sexo: ".concat(N.sex),children:(0,f.jsx)("i",{className:"fa-solid fa-genderless text-xl cursor-pointer text-gray-400"})}),(0,f.jsx)("div",{className:"tooltip","data-tip":"cobertores: ".concat(N.bedding),children:(0,f.jsx)("i",{className:"fa-solid fa-bed text-sm cursor-pointer text-gray-400"})}),(0,f.jsx)("div",{className:"tooltip","data-tip":"baños: ".concat(N.bathroom),children:(0,f.jsx)("i",{className:"fa-solid fa-toilet text-sm cursor-pointer text-gray-400"})}),(0,f.jsx)("div",{className:"tooltip","data-tip":"club: ".concat(N.club),children:(0,f.jsx)("i",{className:"fa-solid fa-kaaba text-sm cursor-pointer text-gray-400"})})]}),(0,f.jsx)("hr",{className:"my-3 border-gray-400"}),(0,f.jsxs)("div",{className:"my-4 flex flex-col gap-1",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("i",{className:"fa-solid fa-utensils mr-2 btn btn-xs btn-circle"}),(0,f.jsx)("span",{className:"text-gray-500 text-sm",children:"nomeal"!==k?"se incluye ".concat(m(k)):"No se incluyen comidas"})]}),w[0].tax_data.taxes.map((function(e,t){var n=e.name,s=e.currency_code,a=e.amount,r=e.included_by_supplier;return(0,f.jsxs)("div",{children:[(0,f.jsx)("i",{className:"fa-solid fa-dollar-sign mr-2 btn btn-xs btn-circle"}),(0,f.jsx)("span",{className:"text-gray-500 text-sm",children:n}),(0,f.jsx)("span",{className:"text-gray-500 ml-1 text-sm",children:r?"incluido":"no incluido"}),(0,f.jsxs)("div",{className:"inline-block text-sm ml-1 text-gray-500",children:[(0,f.jsx)("span",{children:s}),(0,f.jsx)("span",{className:"ml-1",children:a})]})]},t)}))]}),(0,f.jsx)("hr",{className:"my-3 border-gray-400"}),(0,f.jsx)("div",{className:"flex justify-end",children:(0,f.jsxs)("button",{type:"button",className:"btn btn-sm btn__gold",onClick:function(){return function(e){if(P){var t=P.api,n=(0,d.Z)(P,h),s=localStorage.getItem("util"),a=null;a=s?JSON.parse(s):{checkin:(0,u.Z)(new Date).format("YYYY-MM-DD"),checkout:(0,u.Z)(new Date).add(1,"day").format("yyyy-MM-DD"),night:1,info:{people:2,rooms:1}};var r=(0,u.Z)(a.checkin).unix(),l=(0,u.Z)(a.checkout).unix();O((0,x.AA)(g(g({id:e.book_hash,book_hash:e.book_hash,match_hash:e.match_hash},H),{},{img:(null==i?void 0:i.images.slice(0,4))||[],name:null==i?void 0:i.name,checkin:r,checkout:l,item_name:e.room_data_trans.main_name,description:e.room_data_trans.bedding_type,night:a?a.night:1,date:(0,u.Z)(new Date).unix(),service:g(g({},n),{},{api:t}),membership:D,testMode:"Test Hotel (Do Not Book)"===(null==i?void 0:i.name)}),String(j&&"seller"===j?null==b?void 0:b.id:o)))}}(t)},children:[(0,f.jsx)("i",{className:"fa-solid fa-cart-shopping mr-3"}),(0,f.jsx)("span",{children:"agregar"})]})})]})},y=n(96974),N=function(){var e=(0,p.v9)((function(e){return e})),t=e.api.ratehawk.hotel.rates,n=e.user.rol,s=(0,y.s0)(),i=(0,r.useState)({checkin:(0,u.Z)(new Date).format("YYYY-MM-DD"),checkout:(0,u.Z)(new Date).add(1,"day").format("yyyy-MM-DD"),night:1,info:{people:2,rooms:1}}),l=(0,a.Z)(i,2),c=l[0],o=l[1];return(0,r.useEffect)((function(){var e=localStorage.getItem("util");e&&o(JSON.parse(e))}),[]),(0,f.jsx)("div",{children:!t||t.length<=0?(0,f.jsx)("div",{className:"min-h-[20vh] grid place-content-center",children:(0,f.jsx)("span",{className:"text-gray-300 text-lg block text-center",children:"No existen habitaciones disponibles para el hotel seleccionado"})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"text-2xl font-bold text-gray-200",children:"Habitaciones"}),(0,f.jsxs)("small",{className:"text-white ml-3",children:[t.length," ",1===t.length?"disponible":"disponibles"]})]}),n&&"seller"!==n&&(0,f.jsxs)("div",{className:"text-white my-4",children:[(0,f.jsx)("span",{className:"block my-2",children:"Parámetros de búsqueda"}),(0,f.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,f.jsx)("span",{children:"CheckIn: "}),(0,f.jsx)("span",{children:null==c?void 0:c.checkin})]}),(0,f.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,f.jsx)("span",{children:"CheckOut: "}),(0,f.jsx)("span",{children:null==c?void 0:c.checkout})]}),(0,f.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,f.jsx)("span",{children:"N. personas: "}),(0,f.jsx)("span",{children:null==c?void 0:c.info.people})]}),(0,f.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,f.jsx)("span",{children:"N. noches: "}),(0,f.jsx)("span",{children:null==c?void 0:c.night})]}),(0,f.jsx)("button",{className:"btn btn-sm mt-5",onClick:function(){return s("/",{replace:!0})},children:"Cambiar parámetros de búsqueda"})]}),(0,f.jsx)("div",{className:"rounded-lg mt-2 bg-[#4E5B96] p-5 flex flex-col md:flex-row justify-center  md:flex-wrap gap-4",children:t.map((function(e,t){return(0,f.jsx)(b,{rate:e},t)}))})]})})};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.info,n=e.className,s=(0,r.useState)({open:!1,slide:1}),c=(0,a.Z)(s,2),d=c[0],u=d.open,m=d.slide,x=c[1],p=null==t?void 0:t.images.map((function(e){return e.replace("{size}","1024x768")})),h=(0,i.WH)({area:"hotelSearch"}).promiseInProgress;return(0,f.jsx)("div",{className:"".concat(n),children:h?(0,f.jsx)("div",{className:"min-h-screen w-full grid place-content-center",children:(0,f.jsx)(l.s_,{bg:"bg-primary"})}):(0,f.jsx)("div",{className:"p-5 flex justify-center",children:(0,f.jsxs)("div",{className:"w-full xl:w-[1200px] mt-8",children:[(0,f.jsxs)("div",{className:"flex flex-col ",children:[(0,f.jsx)("span",{className:"text-gray-200 text-2xl md:text-4xl font-bold",children:null==t?void 0:t.name}),(0,f.jsxs)("span",{className:"text-gray-400 ",children:[null==t?void 0:t.address," ",(0,f.jsxs)("small",{children:["(",null==t?void 0:t.postal_code,")"]})," ",(0,f.jsxs)("small",{children:["(",null==t?void 0:t.phone,")"]})]}),(0,f.jsx)("span",{className:"text-gray-400 text-sm",children:null==t?void 0:t.email})]}),(0,f.jsx)("div",{className:"hotel_img-gallery mt-10 scroll_none",children:p&&(null==p?void 0:p.map((function(e,t){return(0,f.jsx)("img",{src:e.replace("{size}","x500"),alt:"img_".concat({i:t}),onClick:function(){return x((function(e){return k(k({},e),{},{open:!e.open,slide:t+1})}))}},t)})))}),(0,f.jsx)(o(),{toggler:u,sources:p,slide:m}),(0,f.jsx)("div",{className:"mt-10",children:(0,f.jsx)(N,{})}),(0,f.jsxs)("div",{className:"mt-10 flex flex-col md:flex-row justify-between gap-8",children:[(0,f.jsx)("div",{className:"w-full md:w-1/2 ",children:(0,f.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"text-2xl font-bold text-gray-200",children:"El Hotel"}),(0,f.jsx)("p",{className:"mt-5 text-gray-200 text-justify p-5 bg-[#4E5B96] rounded-md",children:null==t?void 0:t.description_struct[0].paragraphs})]}),(0,f.jsxs)("div",{className:"mt-5 text-gray-200 text-justify p-5 bg-[#4E5B96] rounded-md flex justify-evenly flex-wrap",children:[(0,f.jsxs)("div",{className:"w-1/3 gap-2",children:[(0,f.jsx)("strong",{className:"text-sm",children:"Año de construcción"}),(0,f.jsx)("span",{className:"text-gray-400 block",children:(null==t?void 0:t.facts.year_built)||"No definido"})]}),(0,f.jsxs)("div",{className:"w-1/3 gap-2",children:[(0,f.jsx)("strong",{className:"text-sm",children:"Año de renovación"}),(0,f.jsx)("span",{className:"text-gray-400 block",children:(null==t?void 0:t.facts.year_renovated)||"No definido"})]}),(0,f.jsxs)("div",{className:"w-1/3 gap-2",children:[(0,f.jsx)("strong",{className:"text-sm",children:"Habitaciones / pisos"}),(0,f.jsxs)("div",{className:"text-gray-400",children:[(0,f.jsxs)("span",{className:"block",children:[null==t?void 0:t.facts.rooms_number," ",1===(null==t?void 0:t.facts.rooms_number)?"Habitación":"Habitaciones"]}),(null==t?void 0:t.facts.floors_number)&&(0,f.jsxs)("span",{className:"block",children:[null==t?void 0:t.facts.floors_number," ",1===(null==t?void 0:t.facts.floors_number)?"piso":"pisos"]})]})]})]})]})}),(0,f.jsx)("div",{className:"w-full md:w-1/2",children:(0,f.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(null==t?void 0:t.payment_methods)&&t&&(null==t?void 0:t.payment_methods.length)>0&&(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"text-2xl font-bold text-gray-200",children:"Métodos de pago"}),(0,f.jsx)("ul",{className:"mt-5 bg-[#4e5b96] rounded-md p-5",children:null==t?void 0:t.payment_methods.map((function(e,t){return(0,f.jsx)("li",{className:"text-gray-100 text-xl",children:e.replace("_"," ")},t)}))})]}),(null==t?void 0:t.metapolicy_struct.pets)&&t.metapolicy_struct.pets.length>0&&(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"text-2xl font-bold text-gray-200",children:"Mascotas"}),(0,f.jsx)("ul",{className:"mt-5 bg-[#4e5b96] rounded-md p-5",children:null==t?void 0:t.metapolicy_struct.pets.map((function(e,t){return(0,f.jsx)("li",{className:"flex flex-col gap-3 ",children:(0,f.jsxs)("div",{className:"text-gray-100 text-lg ",children:[(0,f.jsxs)("p",{children:["Tipo de mascota: ",e.pets_type]}),(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{className:"text-md",children:e.currency}),(0,f.jsxs)("span",{className:"ml-2",children:[e.price," por huésped"]})]})]})},t)}))})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"text-2xl font-bold text-gray-200",children:"Políticas de la estructura"}),(0,f.jsx)("ul",{className:"mt-5 bg-[#4e5b96] rounded-md p-5 flex flex-col gap-4 text-gray-200",children:null!=t&&t.policy_struct&&(null==t?void 0:t.policy_struct.length)>0?null==t?void 0:t.policy_struct.map((function(e,t){var n=e.title,s=e.paragraphs;return(0,f.jsxs)("li",{children:[(0,f.jsx)("span",{className:"font-bold mb-2 text-lg",children:n}),(0,f.jsx)("p",{children:s})]},t)})):(0,f.jsx)("div",{children:"No existen políticas vigentes"})})]})]})})]}),(0,f.jsxs)("div",{className:"mt-10",children:[(0,f.jsx)("span",{className:"text-2xl font-bold text-gray-200",children:"Servicios"}),(0,f.jsx)("div",{className:"mt-5 mb-10 text-gray-600 text-justify p-5 bg-[#4E5B96] rounded-md flex justify-evenly gap-4 flex-wrap",children:null==t?void 0:t.amenity_groups.map((function(e,t){var n=e.amenities,s=e.group_name;return(0,f.jsxs)("div",{className:"flex-auto w-[250px] p-2 rounded-md bg-gray-200",children:[(0,f.jsxs)("div",{children:["General"===s&&(0,f.jsx)("i",{className:"fa-solid fa-bell-concierge"}),"Internet"===s&&(0,f.jsx)("i",{className:"fa-solid fa-wifi"}),"Piscina y playa"===s&&(0,f.jsx)("i",{className:"fa-solid fa-person-swimming"}),"Medidas de seguridad y salud"===s&&(0,f.jsx)("i",{className:"fa-solid fa-heart-pulse"}),"Habitaciones"===s&&(0,f.jsx)("i",{className:"fa-solid fa-bed"}),"Comidas"===s&&(0,f.jsx)("i",{className:"fa-solid fa-utensils"}),"Idiomas disponibles"===s&&(0,f.jsx)("i",{className:"fa-solid fa-language"}),"Traslado"===s&&(0,f.jsx)("i",{className:"fa-solid fa-helicopter"}),"Accesibilidad"===s&&(0,f.jsx)("i",{className:"fa-solid fa-wheelchair-move"}),"Belleza y bienestar"===s&&(0,f.jsx)("i",{className:"fa-solid fa-scissors"}),"Aparcamiento"===s&&(0,f.jsx)("i",{className:"fa-solid fa-square-parking text-xl"}),"Negocios"===s&&(0,f.jsx)("i",{className:"fa-solid fa-marker"}),"Niños"===s&&(0,f.jsx)("i",{className:"fa-solid fa-children"}),"Servicios de turismo"===s&&(0,f.jsx)("i",{className:"fa-solid fa-route"}),"Deportes"===s&&(0,f.jsx)("i",{className:"fa-solid fa-dumbbell"}),"Servicios e instalaciones"===s&&(0,f.jsx)("i",{className:"fa-solid fa-building-shield"}),"Mascotas"===s&&(0,f.jsx)("i",{className:"fa-solid fa-paw"}),(0,f.jsx)("span",{className:"text-lg font-bold ml-2",children:s})]}),(0,f.jsx)("ul",{className:"flex flex-col pl-7 gap-1 list-disc",children:n.map((function(e,t){return(0,f.jsx)("li",{children:(0,f.jsx)("span",{className:"text-sm",children:e})},t)}))})]},t)}))})]}),(0,f.jsxs)("div",{className:"my-10",children:[(0,f.jsx)("span",{className:"text-2xl font-bold text-gray-200",children:"Condiciones del Registro"}),(0,f.jsxs)("div",{className:"bg-[#4e5b96] p-8 mt-5 text-gray-200 flex flex-col gap-10 rounded-lg",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"Check-in"}),(0,f.jsxs)("span",{className:"block text-gray-300",children:["Después de las ",null==t?void 0:t.check_in_time]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"Check-out"}),(0,f.jsxs)("span",{className:"block text-gray-300",children:["Antes de las ",null==t?void 0:t.check_out_time]})]})]})]})]})})})}},84623:(e,t,n)=>{n.d(t,{R:()=>M,D:()=>_});var s=n(39642),a=n(67294),r=n(16923),i=n(23594),l=n(15861),c=n(87757),o=n.n(c),d=function(e){return new Promise((function(t){var n=sessionStorage.getItem("checkedTypeHotelFilter");if(n){var s=JSON.parse(n);t(null==e?void 0:e.filter((function(e){var t=e.kind;return s.includes(t)})))}else t(e)}))},u=function(e){return new Promise((function(t){var n=sessionStorage.getItem("checkedHotelFilter");if(n){var s=JSON.parse(n);t(null==e?void 0:e.filter((function(e){var t=e.star_rating;return s.includes(t.toString())})))}else t(e)}))},m=function(e){return new Promise((function(t){var n=sessionStorage.getItem("nameHotelFilter");t(n?null==e?void 0:e.filter((function(e){return e.name.toLocaleLowerCase().includes(n)})):e)}))},x=function(){var e=(0,l.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t).then(u).then(d);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=!1;return sessionStorage.getItem("nameHotelFilter")&&(e=!0),sessionStorage.getItem("checkedHotelFilter")&&(e=!0),sessionStorage.getItem("checkedTypeHotelFilter")&&(e=!0),e},f=n(87115),h=n(85893),v=function(e){var t=e.isClientModule,n=void 0===t||t,a=(0,i.I0)(),r=(0,i.v9)((function(e){return e.api.ratehawk.region})),c=r.hotel,d=r.filter,u=(0,f.N)().handleSetTimeOut;return(0,h.jsxs)("li",{className:"collapse bg-transparent border-b-2 border-[#003C6B]",children:[(0,h.jsx)("input",{type:"checkbox",className:"!min-h-0"}),(0,h.jsxs)("div",{className:"collapse-title text-md flex justify-between p-0",children:[(0,h.jsx)("span",{className:"text-sm",children:"Nombre"}),(0,h.jsx)("i",{className:"fa-solid fa-caret-down  ".concat(n?"text-primary":"text-secondary")})]}),(0,h.jsx)("div",{className:"collapse-content",children:(0,h.jsx)("div",{className:"pt-3",children:(0,h.jsx)("input",{type:"text",placeholder:"Nombre del hotel",onKeyUp:function(e){var t=e.target.value;t?sessionStorage.setItem("nameHotelFilter",t.toLocaleLowerCase()):sessionStorage.removeItem("nameHotelFilter");var n=null,r=p();u((0,l.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,x(c);case 3:n=e.sent,e.next=7;break;case 6:n=(null==d?void 0:d.length)===(null==c?void 0:c.length)?null==c?void 0:c.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())})):r?null==d?void 0:d.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())})):c;case 7:n&&a((0,s.k1)(n));case 8:case"end":return e.stop()}}),e)}))),300)},autoComplete:"off",className:'"w-full input input-sm bg-transparent \n              shadow-none border border-[#002440]  '.concat(n?"placeholder:text-gray-300":"placeholder:text-gray-600")})})})]})},j=n(42982),g=n(70885),b=n(2509),y=function(e){var t=e.isClientModule,n=void 0===t||t,r=(0,a.useState)([]),c=(0,g.Z)(r,2),d=c[0],u=c[1],m=(0,i.I0)(),f=(0,i.v9)((function(e){return e.api.ratehawk.region})),v=f.filter,y=f.hotel,N=function(){var e=(0,l.Z)(o().mark((function e(t){var n,a,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,a=(0,j.Z)(d),n.checked?a=[].concat((0,j.Z)(d),[n.value]):a.splice(d.indexOf(n.value),1),u(a),r=null,a.length>0?sessionStorage.setItem("checkedHotelFilter",JSON.stringify(a)):sessionStorage.removeItem("checkedHotelFilter"),!(i=p())){e.next=13;break}return e.next=10,x(y);case 10:r=e.sent,e.next=14;break;case 13:r=(null==v?void 0:v.length)===(null==y?void 0:y.length)?null==y?void 0:y.filter((function(e){var t=e.star_rating;return a.includes(t.toString())})):i?null==v?void 0:v.filter((function(e){var t=e.star_rating;return a.includes(t.toString())})):y;case 14:r&&m((0,s.k1)(r));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)("li",{className:"collapse bg-transparent border-b-2 border-[#003C6B]",children:[(0,h.jsx)("input",{type:"checkbox",className:"!min-h-0"}),(0,h.jsxs)("div",{className:"collapse-title text-md flex justify-between p-0",children:[(0,h.jsx)("span",{className:"text-sm",children:"Clasificación"}),(0,h.jsx)("i",{className:"fa-solid fa-caret-down  ".concat(n?"text-primary":"text-secondary")})]}),(0,h.jsx)("div",{className:"collapse-content",children:(0,h.jsx)("div",{className:"pt-3",children:[5,4,3,2,1,0].map((function(e,t){return(0,h.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,h.jsx)("input",{value:e,type:"checkbox",onChange:N,className:"checkbox checkbox-sm mt-1 ".concat(n?"checkbox-primary":"checkbox-secondary")}),0===e?(0,h.jsx)("span",{className:'"text-sm  '.concat(n?"text-primary":"text-secondary"),children:"Sin estrellas"}):(0,h.jsx)(b.A,{initialRating:e,readonly:!0,emptySymbol:(0,h.jsx)("i",{className:"fa-regular fa-star text-transparent"}),fullSymbol:(0,h.jsx)("i",{className:"fa-solid fa-star  ".concat(n?"text-primary":"text-secondary")})})]},t)}))})})]})},N=function(e){var t=e.isClientModule,n=void 0===t||t,r=(0,a.useState)([]),c=(0,g.Z)(r,2),d=c[0],u=c[1],m=(0,i.I0)(),f=(0,i.v9)((function(e){return e.api.ratehawk.region})),v=f.filter,b=f.hotel,y=function(){var e=(0,l.Z)(o().mark((function e(t){var n,a,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,a=(0,j.Z)(d),n.checked?a=[].concat((0,j.Z)(d),[n.value]):a.splice(d.indexOf(n.value),1),u(a),r=null,a.length>0?sessionStorage.setItem("checkedTypeHotelFilter",JSON.stringify(a)):sessionStorage.removeItem("checkedTypeHotelFilter"),!(i=p())){e.next=13;break}return e.next=10,x(b);case 10:r=e.sent,e.next=14;break;case 13:r=(null==v?void 0:v.length)===(null==b?void 0:b.length)?null==b?void 0:b.filter((function(e){var t=e.kind;return a.includes(t)})):i?null==v?void 0:v.filter((function(e){var t=e.kind;return a.includes(t)})):b;case 14:r&&m((0,s.k1)(r));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)("li",{className:"collapse bg-transparent border-b-2 border-[#003C6B]",children:[(0,h.jsx)("input",{type:"checkbox",className:"!min-h-0"}),(0,h.jsxs)("div",{className:"collapse-title text-md flex justify-between p-0",children:[(0,h.jsx)("span",{className:"text-sm",children:"Tipo de alojamiento"}),(0,h.jsx)("i",{className:"fa-solid fa-caret-down  ".concat(n?"text-primary":"text-secondary")})]}),(0,h.jsx)("div",{className:"collapse-content",children:(0,h.jsx)("div",{className:"pt-3",children:["Apart-hotel","Apartment","BNB","Hotel","Hostel","Boutique_and_Design","Camping","Castle","Cottages_and_Houses","Farm","Guesthouse","Mini-hotel"].map((function(e,t){return(0,h.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,h.jsx)("input",{value:e,type:"checkbox",onChange:y,className:"checkbox checkbox-sm mt-1 ".concat(n?"checkbox-primary":"checkbox-secondary")}),(0,h.jsx)("span",{className:"text-sm ".concat(n?"text-primary":"text-secondary"),children:e})]},t)}))})})]})},w=function(e){var t=e.isClientModule,n=void 0===t||t;return(0,h.jsx)("div",{className:"shadow-xl h-full w-[300px]",children:(0,h.jsxs)("div",{className:"card w-full p-3 h-[47vh] overflow-y-auto scroll_none ".concat(n?" bg-[#70818e]":"bg-base-100"),children:[(0,h.jsx)("span",{className:"block text-center text-xl font-medium my-4 ".concat(n?"text-white ":"text-secondary"),children:"Filtra tu búsqueda"}),(0,h.jsxs)("ul",{className:"flex flex-col gap-3 my-5 ".concat(n?"!text-white":"!text-secondary"),children:[(0,h.jsx)(v,{isClientModule:n}),(0,h.jsx)(y,{isClientModule:n}),(0,h.jsx)(N,{isClientModule:n})]})]})})},k=n(96974),O=n(10615),C=n(57476),S=n(86972),P=function(e){var t=e.isClientModule,n=void 0===t||t,s=e.isPromo,a=void 0!==s&&s,r=(0,k.s0)(),l=(0,i.I0)(),c=(0,i.v9)((function(e){return e.api.ratehawk.region})),o=c.filter,d=c.data;return(0,h.jsx)("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:0===(null==o?void 0:o.length)?(0,h.jsx)("div",{className:"grid place-content-center w-full min-h-[40vh]",children:(0,h.jsx)("span",{className:'"block w-[200px] text-center '.concat(n&&"text-white"),children:"No existen hoteles que coincidan con el criterio de búsqueda"})}):null==o?void 0:o.map((function(e,t){return(0,h.jsxs)("div",{className:"w-full md:!min-w-[370px] lg:w-[370px] bg-base-100  rounded-xl shadow-xl p-4 animate__animated animate__bounceIn",children:[(0,h.jsx)(O.lr,{emulateTouch:!0,showArrows:!1,showThumbs:!1,infiniteLoop:!0,showStatus:!1,children:e.images.slice(1,6).map((function(e,t){return(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:e.replace("{size}","x500"),alt:"hotel",className:"h-[240px] object-cover"})},t)}))}),(0,h.jsxs)("div",{className:"h-[130px]",children:[(0,h.jsx)("span",{className:"block text-xl mt-5",children:e.name}),(0,h.jsxs)("div",{className:"flex gap-2 items-center text-gray-500",children:[(0,h.jsx)("i",{className:"fa-solid fa-location-dot text-sm"}),(0,h.jsx)("span",{className:"block text-xs",children:e.address})]}),(0,h.jsxs)("div",{className:"flex gap-2 items-center text-gray-500",children:[(0,h.jsx)("i",{className:"fa-solid fa-archway text-xs"}),(0,h.jsx)("span",{className:"block text-xs",children:e.kind})]}),(0,h.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,h.jsx)(b.A,{initialRating:e.star_rating,fractions:2,readonly:!0,emptySymbol:(0,h.jsx)("i",{className:"fa-regular fa-star text-primary text-sm"}),fullSymbol:(0,h.jsx)("i",{className:"fa-solid fa-star text-primary text-sm"})}),(0,h.jsx)("span",{className:"text-white px-2 rounded-lg bg-gradient-banner",children:e.star_rating})]})]}),(0,h.jsx)("div",{className:"flex justify-end mt-5",children:a?(0,h.jsx)("button",{type:"button",className:"btn btn-sm btn__gold",onClick:function(){return t=e,l((0,S.bE)({id:t.id,name:t.name})),void l((0,S.q3)(!1,"add"));var t},children:"Seleccionar hotel"}):(0,h.jsx)("button",{type:"button",className:"btn btn-sm btn__gold",onClick:function(){return function(e){var t;n?r("/client/service/hotel/1/".concat(e.id)):l((0,C.M8)("Seller")),l((0,C.ai)(e)),sessionStorage.clear();var s=null==d||null===(t=d.hotels)||void 0===t?void 0:t.slice(0,25).filter((function(t){return t.id===e.id}));s&&s.length>0&&l((0,C.CI)(s[0].rates))}(e)},children:"ver detalles"})})]},t)}))})},_=function(e){var t=e.isClientModule,n=void 0===t||t,l=e.isPromo,c=void 0!==l&&l,o=(0,i.I0)(),d=(0,i.v9)((function(e){return e.api.ratehawk.region})),u=d.data,m=d.filter,x=d.hotel,p=(0,r.WH)({area:"regionSearch"}).promiseInProgress;return(0,a.useEffect)((function(){x&&m&&x.length!==m.length&&o((0,s.k1)(x))}),[o]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-3 flex justify-between items-center",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"block text-3xl text-[#003C6B] font-bold",children:"Hoteles"}),p?(0,h.jsx)("div",{className:"skeleton-box w-[100px] p-2 rounded-lg"}):m&&(null==m?void 0:m.length)>0&&(0,h.jsxs)("span",{className:"block",children:[m.length," ","".concat(1===m.length?"hotel":"hoteles")]})]}),(0,h.jsxs)("div",{className:"dropdown dropdown-end relative",children:[(0,h.jsx)("label",{tabIndex:0,className:"m-1",children:(0,h.jsx)("i",{className:"fa-solid fa-filter text-xl pr-2 cursor-pointer text-[#003C6B] ".concat(n&&"md:hidden")})}),(0,h.jsx)("div",{tabIndex:0,className:"dropdown-content shadow rounded-box ".concat(n?"bg-grandient-secondary":"bg-gradient-primary"),children:(null==u?void 0:u.hotels)&&!p&&(0,h.jsx)(w,{isClientModule:n})})]})]}),(0,h.jsxs)("div",{className:"flex gap-4 rounded-xl p-4 ".concat(n&&" bg-grandient-secondary"),children:[(null==u?void 0:u.hotels)&&!p&&(0,h.jsx)("div",{className:"shadow-xl rounded-xl h-fit hidden ".concat(n&&"md:block"),children:(0,h.jsx)(w,{isClientModule:n})}),(0,h.jsx)("div",{className:"overflow-auto data-scroll w-full",children:p?(0,h.jsx)("div",{className:"w-full gap-8 flex flex-col md:flex-row justify-around items-center my-5",children:new Array(n?4:3).fill({}).map((function(e,t){return(0,h.jsxs)("div",{className:"w-full  flex flex-col gap-3 bg-base-100 p-3 rounded-xl",children:[(0,h.jsx)("div",{className:"skeleton-box !h-[200px] rounded-md"}),(0,h.jsx)("div",{className:"skeleton-box !h-[15px] w-[80%] rounded-md"}),(0,h.jsx)("div",{className:"skeleton-box !h-[15px] w-[20%] rounded-md"}),(0,h.jsx)("div",{className:"skeleton-box !h-[15px] w-[50%] rounded-md"}),(0,h.jsx)("div",{className:"skeleton-box !h-[100px] rounded-md"}),(0,h.jsx)("div",{className:"skeleton-box !h-[20px] rounded-md"})]},t)}))}):(0,h.jsx)("div",{children:null!=u&&u.hotels?(0,h.jsx)(P,{isClientModule:n,isPromo:c}):(0,h.jsx)("div",{className:"w-full min-h-[45vh] grid place-content-center",children:(0,h.jsx)("div",{className:"max-w-[300px]",children:(0,h.jsx)("span",{className:"text-center block ".concat(n&&"text-white"),children:"No existen hoteles que coincidan con el criterio de búsqueda"})})})})})]})]})},E=n(45098),Z=n(66261),D=n(12164),I=n(9879),M=function(){var e=(0,k.UO)().id,t=(0,i.I0)(),n=(0,i.v9)((function(e){return e.api.ratehawk.hotel})).info,s=(0,E.h)().apiRateHawk;return(0,a.useEffect)((function(){Z.NY.scrollToTop()}),[]),(0,a.useEffect)((function(){!n&&e&&s&&t((0,C.jV)(e,s))}),[n,t,e,s]),(0,a.useEffect)((function(){var n=localStorage.getItem("util"),a=null;if(n&&(a=JSON.parse(n)),e&&s){var r,i,l={type:"hotel",destination:{id:e},checkin:(null===(r=a)||void 0===r?void 0:r.checkin)||(0,D.Z)(new Date).format("yyyy-MM-DD"),checkout:(null===(i=a)||void 0===i?void 0:i.checkout)||(0,D.Z)(new Date).add(1,"day").format("yyyy-MM-DD"),guests:[{adults:2,children:[]}],info:{people:2,rooms:1}};t((0,C.l7)(l,s))}}),[t,e,s]),(0,h.jsx)("div",{children:n?(0,h.jsx)(I.h,{info:n}):(0,h.jsx)("div",{className:"w-full grid place-content-center min-h-[90vh]",children:(0,h.jsx)("span",{className:"block text-white text-xl",children:"No existen registros para el hotel consultado"})})})}},57476:(e,t,n)=>{n.d(t,{CI:()=>m,M8:()=>p,ai:()=>f,jV:()=>h,l7:()=>v,u:()=>j});var s=n(4942),a=n(15861),r=n(87757),i=n.n(r),l=n(75820),c=n(16923),o=n(44798);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){return{type:o.XP,payload:{rates:e}}},x=function(e){return{type:o.n,payload:{id:e}}},p=function(e){return{type:o.W9,payload:{type:e}}},f=function(e){return{type:o.w6,payload:{info:e}}},h=function(e,t){return function(){var n=(0,a.Z)(i().mark((function n(s){var a,r,o,d,u,m,x;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d={username:(null==t||null===(a=t.api)||void 0===a?void 0:a.credentials.username)||"",password:(null==t||null===(r=t.api)||void 0===r?void 0:r.credentials.password)||""},n.next=3,(0,c.JE)((0,l.W9)({url:"/api-query",method:"post",data:{language:"es",id:e},headers:{"x-path":"".concat(null==t||null===(o=t.api)||void 0===o?void 0:o.endPoint,"/hotel/info/"),"x-auth":JSON.stringify(d)}}),"hotelSearch");case 3:u=n.sent,m=u.status,x=u.data,200===m&&s(f(x.data.data));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e,t){return function(){var n=(0,a.Z)(i().mark((function n(s){var a,r,o,d,x,p,f,h,v;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return x={username:(null==t||null===(a=t.api)||void 0===a?void 0:a.credentials.username)||"",password:(null==t||null===(r=t.api)||void 0===r?void 0:r.credentials.password)||""},n.next=3,(0,c.JE)((0,l.W9)({url:"/api-query",method:"post",data:u(u({},e),{},{id:null===(o=e.destination)||void 0===o?void 0:o.id}),headers:{"x-path":"".concat(null==t||null===(d=t.api)||void 0===d?void 0:d.endPoint,"/search/hp"),"x-auth":JSON.stringify(x)}}),"hotelSearch");case 3:p=n.sent,f=p.status,h=p.data,200===f&&(v=h.data.data.hotels).length>0&&s(m(v[0].rates));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},j=function(e,t){return function(){var n=(0,a.Z)(i().mark((function n(s){var a,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=null===(a=e.destination)||void 0===a?void 0:a.id)&&(s(x(r)),s(h(r,t))),e.guests.map((function(e){return e.children.length>0&&(e.children=e.children.map((function(e){return Number(e)}))),e})),s(v(e,t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},39642:(e,t,n)=>{n.d(t,{k1:()=>m,kZ:()=>h,qb:()=>p});var s=n(15861),a=n(87757),r=n.n(a),i=n(75820),l=n(16923),c=n(86455),o=n.n(c),d=n(44798),u=function(e){return{type:d.oG,payload:{data:e}}},m=function(e){return{type:d.bY,payload:{filter:e}}},x=function(e){return{type:d.jv,payload:{aux:e}}},p=function(){return{type:d.Br}},f=function(e,t){return function(){var n=(0,s.Z)(r().mark((function n(s){var a,c,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.JE)((0,i.X2)({url:"/hotel/".concat(e,"?param=").concat(t||!0),method:"get"}),"hotelInfo_".concat(e));case 2:a=n.sent,c=a.status,o=a.data.hotel,200===c&&o&&s(x(o));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(e,t){return function(){var n=(0,s.Z)(r().mark((function n(s){var a,c,d,m,x,p,h,v;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.guests.map((function(e){return e.children.length>0&&(e.children=e.children.map((function(e){return Number(e)}))),e})),t.api){n.next=3;break}return n.abrupt("return",o().fire({title:"Error crítico",text:"No se pudo obtener la información de la API",icon:"error"}));case 3:return d={username:(null==t||null===(a=t.api)||void 0===a?void 0:a.credentials.username)||"",password:(null==t||null===(c=t.api)||void 0===c?void 0:c.credentials.password)||""},n.next=6,(0,l.JE)((0,i.W9)({url:"/api-query",method:"post",data:e,headers:{"x-path":"".concat(t.api.endPoint,"/search/serp/region"),"x-auth":JSON.stringify(d)}}),"regionSearch");case 6:if(m=n.sent,x=m.status,p=m.data.data.data,200===x&&p&&(s(u(h=p)),h.hotels&&h.hotels.length>0))for(v=0;v<h.hotels.length;v++)v<=20&&h.hotels[v].id&&s(f(h.hotels[v].id));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},507:(e,t,n)=>{n.d(t,{A:()=>u});var s=n(15861),a=n(87757),r=n.n(a),i=n(26252),l=n(75820),c=n(86972),o=n(16923),d=n(44460),u=function(){return function(){var e=(0,s.Z)(r().mark((function e(t){var n,s,a,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.JE)((0,l.X2)({url:"/services",method:"get"}).catch((function(e){403===e.response.status?t((0,c.Y2)()):(0,i.i)()})),"services");case 2:n=e.sent,s=n.status,a=n.data,200===s&&((u=a.map((function(e){var t=e.name,n=e.state,s=e.profit,a=e.informationApi;return{name:t,state:n,profit:s,api:{id:a.id,name:a.name,state:a.state,endPoint:a.credentials.endPoint,credentials:{username:a.credentials.username,password:a.credentials.password}}}}))).push({name:"Vuelos",state:!0,profit:10,api:{id:"2",name:"ratehawk",state:!0,endPoint:"https://api.worldota.net/api/b2b/v3",credentials:{username:"1",password:"xxxxx"}}},{name:"Autos",state:!0,profit:15,api:{id:"3",name:"ratehawk",state:!0,endPoint:"https://api.worldota.net/api/b2b/v3",credentials:{username:"2",password:"xxxccxx"}}},{name:"Tours",state:!0,profit:12,api:{id:"4",name:"ratehawk",state:!0,endPoint:"https://api.worldota.net/api/b2b/v3",credentials:{username:"3",password:"3xcvsd"}}},{name:"Crucero",state:!0,profit:6,api:{id:"5",name:"ratehawk",state:!0,endPoint:"https://api.worldota.net/api/b2b/v3",credentials:{username:"4",password:"xcvxcvwe4"}}}),t((r={list:u},{type:d.z,payload:r})));case 6:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}},87681:(e,t,n)=>{n.d(t,{W:()=>A});var s=n(23594),a=n(96974),r=n(70885),i=n(6295),l=n(67294),c=n(60482),o=n(85893),d=function(){var e=(0,s.v9)((function(e){return e})),t=e.auth.uid,n=e.chat.activeChat,a=(0,l.useContext)(i.J).socket,d=(0,l.useState)(""),u=(0,r.Z)(d,2),m=u[0],x=u[1];return(0,o.jsx)("div",{className:" mt-6",children:(0,o.jsx)("div",{className:'className="mt-12 flex justify-between gap-2"',children:(0,o.jsx)(c.Z,{value:m,onChange:x,cleanOnEnter:!0,onEnter:function(e){e&&n&&t&&(null==a||a.emit("personal-message",{from:t,to:n.account.id,message:m}))},placeholder:"Escribir mensaje...",theme:"light"})})})},u=n(12164),m=n(95872),x=n(11594),p=function(){var e=(0,s.v9)((function(e){return e})),t=e.chat,n=t.messages,a=t.activeChat,r=e.auth.uid,i=e.user,l=i.img,c=i.rol;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{id:"messages",className:"mt-10 messages pb-[75px]",children:null==n?void 0:n.map((function(e,t){var n=e.message,s=e.from,i=e.createdAt;return(0,o.jsx)("div",{className:"flex flex-col messages__".concat(r!==s?"from":"to"," "),children:(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)(x.q,{img:s===r?l:null==a?void 0:a.person.img,className:"".concat(s===r?"order-1":"order-0")}),(0,o.jsxs)("div",{className:" message",children:[(0,o.jsx)("div",{className:"shadow-lg bg-gray-200 p-4 bg-white rounded-xl",children:(0,o.jsx)("span",{className:"text-sm text-justify",children:(0,o.jsx)(m.Gl,{text:n,svg:!0,options:{className:"Twemoji"},className:"message_text flex gap-2"})})}),(0,o.jsx)("div",{className:"message__date mt-2",children:(0,o.jsx)("span",{className:"text-xs ".concat("client"===c&&"text-white"),children:i&&(0,u.f)(i)})})]})]})},t)}))}),(0,o.jsx)(d,{})]})},f=n(57562),h=n(23333),v=n(76235),j=n(78888),g=n(79351),b=function(e){var t=e.open,n=e.setOpenModal,a=(0,s.v9)((function(e){return e})),r=a.chat,c=r.activeChat,d=r.call,u=a.auth.uid,m=a.user,p=m.name,b=m.lastName,y=(0,s.I0)(),N={uid:u,name:p,lastName:b},w=c,k=(0,l.useContext)(i.J).socket,O="https://meet.jit.si/personal-meet-".concat(N.uid,"-").concat(null==w?void 0:w.account.id);return(0,l.useEffect)((function(){t&&(null==k||k.emit("videoCall",{to:w,from:N,room:O}))}),[k,t]),(0,l.useEffect)((function(){d&&(0,h.K)(O),y((0,v.X6)(void 0)),n(!1)}),[d,O,y]),(0,o.jsx)(j.u,{openModal:t,children:(0,o.jsxs)("div",{className:"flex flex-col justify-center items-center mt-5 ",children:[(0,o.jsx)(x.q,{img:null==c?void 0:c.person.img,size:40}),(0,o.jsxs)("span",{className:"mt-4 text-xl",children:["Llamando a"," ",c&&(0,f.b)(c.person.name,c.person.lastName)]}),(0,o.jsx)("span",{className:"mt-5",children:(0,o.jsx)(g.g4,{ariaLabel:"loading-indicator"})}),(0,o.jsx)("button",{type:"button",className:"btn btn-circle btn-outline w-18 h-18 mt-10",onClick:function(){n(!1),null==k||k.emit("videoCall",{to:w,from:N,cancell:!0})},children:(0,o.jsx)("i",{className:"fa-solid fa-phone-slash text-xl"})})]})})},y=function(){var e=(0,s.v9)((function(e){return e})),t=e.chat.activeChat,n=e.user.rol,a=(0,l.useState)(!1),i=(0,r.Z)(a,2),c=i[0],d=i[1];return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center gap-5 mr-7 w-fit ",children:[(0,o.jsx)("div",{className:"mb-5",children:(0,o.jsx)(x.q,{img:null==t?void 0:t.person.img})}),(0,o.jsx)("span",{className:"text-2xl whitespace-nowrap font-bold ".concat("client"===n?"text-white":"text-gray-500 "),children:t&&(0,f.b)(t.person.name,t.person.lastName)})]}),(0,o.jsx)("div",{className:"flex items-center",children:(0,o.jsx)("div",{className:"tooltip","data-tip":"Llamadas",children:(0,o.jsx)("i",{className:"btn btn-ghost btn-circle fa-solid fa-phone text-md cursor-pointer ".concat("client"===n?"text-white":"text-secondary"),onClick:function(){null!=t&&t.account.online&&d(!0)}})})})]}),(0,o.jsx)("hr",{className:"border-b-1 border-gray-300 px-2"}),(0,o.jsx)(b,{open:c,setOpenModal:d})]})},N=function(){var e=(0,s.v9)((function(e){return e.user})).rol;return(0,o.jsxs)("div",{className:"flex flex-col justify-center ".concat("client"===e&&"text-white"),children:[(0,o.jsx)("h3",{className:"w-full text-center text-2xl",children:"Seleccione una persona"}),(0,o.jsx)("p",{className:"w-full text-center text-md",children:"para iniciar una conversación"})]})},w=function(){var e=(0,s.I0)(),t=(0,s.v9)((function(e){return e.chat})),n=t.users,a=t.usersFilter,r=t.typeActiveChat,i=function(t){e((0,v.TP)(t)),n!==a&&n&&e((0,v.XI)(n)),e((0,v.T9)(void 0))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("li",{onClick:function(){return i("seller")},className:"btn btn-ghost btn-sm px-7 border-2 border-gray-500 p-2 rounded-2xl ".concat(r&&r.endsWith("seller")&&"subNavActive"),children:"Vendedores"}),(0,o.jsx)("li",{onClick:function(){return i("client")},className:"btn btn-ghost btn-sm px-7 border-2 border-gray-500 p-2 rounded-2xl ".concat(r&&r.endsWith("client")&&"subNavActive"),children:"Clientes"})]})},k=function(){var e=(0,s.I0)(),t=(0,s.v9)((function(e){return e.chat})).typeActiveChat;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("li",{children:(0,o.jsx)("span",{onClick:function(){return e((0,v.TP)("team"))},className:"btn btn-ghost btn-sm px-7 border-2 border-gray-500 p-2 rounded-2xl text-white ".concat(t&&t.endsWith("seller")&&"subNavActive"),children:"Equipo"})}),(0,o.jsx)("li",{children:(0,o.jsx)("span",{onClick:function(){return e((0,v.TP)("client"))},className:"btn btn-ghost btn-sm px-7 border-2 border-gray-500 p-2 rounded-2xl text-white ".concat(t&&t.endsWith("seller")&&"subNavActive"),children:"Clientes"})})]})},O=function(){var e=(0,s.v9)((function(e){return e.user})).rol;return(0,o.jsxs)("ul",{className:"flex gap-3 my-6",children:["admin"===e&&(0,o.jsx)(w,{}),"seller"===e&&(0,o.jsx)(k,{})]})},C=function(){var e=(0,s.v9)((function(e){return e})),t=e.auth.uid,n=e.chat,a=n.usersFilter,r=n.typeActiveChat,i=e.user.rol,l=(0,s.I0)();return(0,o.jsx)("div",{className:"pl-2 my-2 flex xl:flex-col ".concat("admin"!==i?"text-white":"text-black"),children:null==a?void 0:a.map((function(e,n){return t===e.account.id?null:e.rol.name===r||"team"===r&&"admin"===e.rol.name||"client"===i?(0,o.jsxs)("div",{className:"flex flex-col xl:flex-row xl:my-3 items-center gap-5 mr-7 w-fit cursor-pointer mt-2 ",onClick:function(){return function(e){l((0,v.VC)(e)),l((0,v.lp)())}(e)},children:[(0,o.jsx)(x.q,{online:e.account.online,img:e.person.img,isChat:!0}),(0,o.jsx)("span",{className:"text-lg whitespace-nowrap",children:(0,f.b)(e.person.name,e.person.lastName)})]},n):void 0}))})},S=n(4942);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(){var e=(0,l.useState)({search:""}),t=(0,r.Z)(e,2),n=t[0],a=t[1],i=(0,s.I0)(),c=(0,s.v9)((function(e){return e.chat})).users;return(0,o.jsx)("div",{className:"w-full px-2",children:(0,o.jsx)("div",{className:"w-full my-4 flex items-center",children:(0,o.jsx)("input",{type:"text",name:"search",placeholder:"Ingrese nombre",className:"w-full input input-sm input-bordered",value:n.search,onChange:function(e){var t=e.target,n=t.name,s=t.value,r=s.toLocaleLowerCase(),l=null==c?void 0:c.filter((function(e){return e.person.name.trim().toLowerCase().includes(r)||e.person.lastName.trim().toLowerCase().includes(r)}));i((0,v.XI)(l)),a((function(e){return _(_({},e),{},(0,S.Z)({},n,s))}))}})})})},Z=function(){var e=(0,s.v9)((function(e){return e.user})).rol;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"mt-2 rounded-xl p-5 min-h-[800px] ".concat(function(){var t="";switch(e){case"admin":t+="bg-primary";break;case"seller":t+="bg-[#001E36]"}return t}()),children:["client"!==e&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O,{}),(0,o.jsx)("hr",{className:"my-6 border-1 border-slate-200"})]}),(0,o.jsx)(a.j3,{})]})})},D=function(){var e=(0,s.v9)((function(e){return e.chat})).activeChat;return(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsxs)("div",{className:"flex justify-between flex-col xl:flex-row ",children:[(0,o.jsx)("div",{className:"xl:w-80",children:(0,o.jsxs)("div",{className:"border xl:border-gray-300 h-full p-3 rounded-xl ",children:[(0,o.jsx)(E,{}),(0,o.jsx)("div",{className:"overflow-x-auto scroll_list xl:h-[700px] xl:overflow-y-auto",children:(0,o.jsx)(C,{})})]})}),(0,o.jsx)("div",{className:"mt-8 xl:mt-0 xl:ml-5 xl:w-3/4 bg-base-100 chat-messages\n              ".concat(!e&&"flex justify-center items-center","\n          "),children:e?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y,{}),(0,o.jsx)(p,{})]}):(0,o.jsx)(N,{})})]})})},I=function(){var e=(0,s.v9)((function(e){return e})),t=e.chat.activeChat,n=e.user.rol;return(0,o.jsx)("div",{className:"mt-10 w-full px-5 flex justify-center items-center",children:(0,o.jsxs)("div",{className:"flex justify-between flex-col xl:flex-row w-full xl:w-[1000px]",children:[(0,o.jsx)("div",{className:"xl:w-80",children:(0,o.jsxs)("div",{className:"h-full p-3 rounded-xl border ".concat("client"===n&&"border-primary"),children:["client"!==n&&(0,o.jsx)(E,{}),(0,o.jsx)("div",{className:"overflow-x-auto scroll_list xl:h-[700px] xl:overflow-y-auto ",children:(0,o.jsx)(C,{})})]})}),(0,o.jsx)("div",{className:"mt-8 xl:mt-0 xl:ml-5 xl:w-3/4 bg-base-100 chat-messages ".concat("client"===n&&"bg-[#6B6CB0]","\n                            ").concat(!t&&"flex justify-center items-center","\n                        "),children:t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y,{}),(0,o.jsx)(p,{})]}):(0,o.jsx)(N,{})})]})})},M=function(){var e=(0,s.v9)((function(e){return e.chat})).activeChat;return(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsxs)("div",{className:"flex justify-between flex-col xl:flex-row ",children:[(0,o.jsx)("div",{className:"xl:w-80",children:(0,o.jsxs)("div",{className:"border border-white h-full p-3 rounded-xl",children:[(0,o.jsx)(E,{}),(0,o.jsx)("div",{className:"overflow-x-auto scroll_list xl:h-[700px] xl:overflow-y-auto ",children:(0,o.jsx)(C,{})})]})}),(0,o.jsx)("div",{className:"mt-8 xl:mt-0 xl:ml-5 xl:w-3/4 bg-base-100 chat-messages \n                         ".concat(!e&&"flex justify-center items-center","\n                     "),children:e?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y,{}),(0,o.jsx)(p,{})]}):(0,o.jsx)(N,{})})]})})},A=function(){var e=function(){return(0,o.jsx)("div",{})};switch((0,s.v9)((function(e){return e.user})).rol){case"admin":e=D;break;case"seller":e=M;break;case"client":e=I}return(0,o.jsx)(a.Z5,{children:(0,o.jsxs)(a.AW,{element:(0,o.jsx)(Z,{}),children:[(0,o.jsx)(a.AW,{index:!0,element:(0,o.jsx)(e,{})}),(0,o.jsx)(a.AW,{path:"*",element:(0,o.jsx)(a.Fg,{to:"/"})})]})})}},80653:(e,t,n)=>{n.d(t,{$k:()=>O,AA:()=>y,CX:()=>b,Eq:()=>v,Jh:()=>p,Oc:()=>k,Q5:()=>w,uj:()=>f});var s=n(42982),a=n(15861),r=n(87757),i=n.n(r),l=n(86455),c=n.n(l),o=n(13059),d=n(16923),u=n(75820),m=n(78596),x=function(e){return{type:o.dg,payload:{shopping:e}}},p=function(e){return{type:o.T5,payload:{aux:e}}},f=function(e){return{type:o.LU,payload:{aux:e}}},h=function(e){return{type:o.pA,payload:{aux:e}}},v=function(e){return{type:o.YF,payload:{aux:e}}},j=function(){return{type:o.f1}},g=function(e){return{type:o.ke,payload:{bill:e}}},b=function(e,t){return function(){var n=(0,a.Z)(i().mark((function n(s,r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c().fire({title:"Estas seguro de eliminar ".concat(e.name,"  del carrito?"),showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(function(){var n=(0,a.Z)(i().mark((function n(a){var l,d,m,x,p;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.isConfirmed){n.next=12;break}if(l=r(),d=l.shopping,m=d.shopping,x=d.bill,!(p=null==m?void 0:m.filter((function(t){return t.id!==e.id})))||0!==p.length){n.next=8;break}return n.next=6,(0,u.X2)({method:"delete",url:"/cart/".concat(String(null==x?void 0:x.id))});case 6:n.next=10;break;case 8:return n.next=10,(0,u.X2)({method:"put",url:"/cart/".concat(String(null==x?void 0:x.id)),data:{accountId:t,shopping:p||[]}});case 10:s((i=p||[],f=e.total,{type:o.mN,payload:{aux:{Car:i,total:f}}})),c().fire("Operación completada","Se elimino correctamente el producto","success");case 12:case"end":return n.stop()}var i,f}),n)})));return function(e){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},y=function(e,t){return function(){var n=(0,a.Z)(i().mark((function n(a,r){var l,o,x,p,f,v,j;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=r().shopping,o=l.shopping,x=l.bill){n.next=10;break}return n.next=4,(0,d.JE)((0,u.X2)({method:"post",url:"/cart",data:{accountId:t,shopping:[e]}}).catch((function(e){403===e.response.status?(a((0,m.kS)()),c().fire("La sesión activa ha vencido","Por motivos de seguridad es necesario que vuelvas a iniciar la sesión","warning")):c().fire("Error creando el carrito","Por favor intenta de nuevo","warning")})),"shoppingCart");case 4:p=n.sent,f=p.status,v=p.data.id,200===f&&v&&(a(h(e)),a(g({id:v}))),n.next=18;break;case 10:if(!(null==o?void 0:o.find((function(t){return t.id===e.id})))){n.next=13;break}return n.abrupt("return",c().fire("Solicitud no procesada","El articulo ya se encuentra agregado en el carrito","info"));case 13:return n.next=15,(0,d.JE)((0,u.X2)({method:"put",url:"/cart/".concat(x.id),data:{accountId:t,shopping:[].concat((0,s.Z)(o||[]),[e])}}).catch((function(e){403!==e.response.status&&c().fire("Error actualizando el carrito","Por favor intenta de nuevo","warning")})),"shoppingCart");case 15:j=n.sent,200===j.status&&a(h(e));case 18:c().fire("Solicitud completa","El articulo se agrego correctamente en el carrito","success");case 19:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},N=function(e){return new Promise(function(){var t=(0,a.Z)(i().mark((function t(n,s){var a,r,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.X2)({method:"delete",url:"/cart/".concat(e)}).catch((function(e){return s(e)}));case 2:a=t.sent,r=a.status,l=a.data,200===r&&l.id?n(!0):n(!1);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},w=function(){return function(){var e=(0,a.Z)(i().mark((function e(t,n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(s=n().shopping.bill)||!s.id){e.next=4;break}return e.next=4,N(String(s.id));case 4:t(j());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},k=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){var t=(0,a.Z)(i().mark((function t(n,s){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c().fire({title:"Estas seguro de eliminar todos los items del carrito?",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(function(){var t=(0,a.Z)(i().mark((function t(a){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.isConfirmed){t.next=7;break}if(null==(r=s().shopping.bill)||!r.id){t.next=5;break}return t.next=5,N(String(r.id));case 5:n(j()),e&&c().fire("Operación completada","El carrito ha sido vaciado completamente","success");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=(0,a.Z)(i().mark((function t(n){var s,a,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.JE)((0,u.X2)({method:"get",url:"/cart/".concat(e)},(function(){n((0,m.kS)())})),"shoppingCart");case 2:s=t.sent,a=s.status,r=s.data,200===a&&r?(r.shopping&&n(x(r.shopping)),r.id&&n(g({id:r.id}))):(n(x([])),n(g(void 0)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},2509:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(4942),a=n(87462),r=n(99469),i=n(85893);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}var c=function(e){var t=(0,a.Z)({},e);return(0,i.jsx)(r.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}},87115:(e,t,n)=>{n.d(t,{N:()=>r});var s=n(70885),a=n(67294),r=function(){var e=(0,a.useState)(null),t=(0,s.Z)(e,2),n=t[0],r=t[1];return{handleSetTimeOut:function(e,t){n&&clearTimeout(n),r(setTimeout(e,t))}}}},26736:(e,t,n)=>{e.exports=n.p+"b82418dfebf5c8f07ebe.jpg"},25976:(e,t,n)=>{e.exports=n.p+"0fc61382edb014c5992e.png"}}]);